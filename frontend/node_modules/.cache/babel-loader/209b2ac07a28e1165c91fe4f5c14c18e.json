{"ast":null,"code":"import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled'\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}","map":{"version":3,"sources":["D:/Web Development/woodsy/frontend/node_modules/swiper/modules/scrollbar/scrollbar.js"],"names":["getDocument","$","nextTick","createElementIfNotDefined","Scrollbar","_ref","swiper","extendParams","on","emit","document","isTouched","timeout","dragTimeout","dragStartPos","dragSize","trackSize","divider","scrollbar","el","hide","draggable","snapOnRelease","lockClass","dragClass","scrollbarDisabledClass","dragEl","$el","$dragEl","setTranslate","params","rtlTranslate","rtl","progress","newSize","newPos","isHorizontal","transform","style","width","height","clearTimeout","opacity","setTimeout","transition","setTransition","duration","updateSize","offsetWidth","offsetHeight","size","virtualSize","slidesOffsetBefore","centeredSlides","snapGrid","parseInt","display","watchOverflow","enabled","isLocked","getPointerPosition","e","type","targetTouches","clientX","clientY","setDragPosition","positionRatio","offset","Math","max","min","position","minTranslate","maxTranslate","updateProgress","updateActiveIndex","updateSlidesClasses","onDragStart","$wrapperEl","target","getBoundingClientRect","preventDefault","stopPropagation","css","cssMode","onDragMove","returnValue","onDragEnd","slideToClosest","events","method","touchEventsTouch","touchEventsDesktop","support","activeListener","passiveListener","passiveListeners","passive","capture","eventMethod","touch","start","move","end","enableDraggable","disableDraggable","init","$swiperEl","originalParams","uniqueNavElements","length","find","append","Object","assign","destroy","disable","_s","enable","removeClass","addClass"],"mappings":"AAAA,SAASA,WAAT,QAA4B,YAA5B;AACA,OAAOC,CAAP,MAAc,qBAAd;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,OAAOC,yBAAP,MAAsC,+CAAtC;AACA,eAAe,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AACtC,MAAI;AACFC,IAAAA,MADE;AAEFC,IAAAA,YAFE;AAGFC,IAAAA,EAHE;AAIFC,IAAAA;AAJE,MAKAJ,IALJ;AAMA,QAAMK,QAAQ,GAAGV,WAAW,EAA5B;AACA,MAAIW,SAAS,GAAG,KAAhB;AACA,MAAIC,OAAO,GAAG,IAAd;AACA,MAAIC,WAAW,GAAG,IAAlB;AACA,MAAIC,YAAJ;AACA,MAAIC,QAAJ;AACA,MAAIC,SAAJ;AACA,MAAIC,OAAJ;AACAV,EAAAA,YAAY,CAAC;AACXW,IAAAA,SAAS,EAAE;AACTC,MAAAA,EAAE,EAAE,IADK;AAETJ,MAAAA,QAAQ,EAAE,MAFD;AAGTK,MAAAA,IAAI,EAAE,KAHG;AAITC,MAAAA,SAAS,EAAE,KAJF;AAKTC,MAAAA,aAAa,EAAE,IALN;AAMTC,MAAAA,SAAS,EAAE,uBANF;AAOTC,MAAAA,SAAS,EAAE,uBAPF;AAQTC,MAAAA,sBAAsB,EAAE;AARf;AADA,GAAD,CAAZ;AAYAnB,EAAAA,MAAM,CAACY,SAAP,GAAmB;AACjBC,IAAAA,EAAE,EAAE,IADa;AAEjBO,IAAAA,MAAM,EAAE,IAFS;AAGjBC,IAAAA,GAAG,EAAE,IAHY;AAIjBC,IAAAA,OAAO,EAAE;AAJQ,GAAnB;;AAOA,WAASC,YAAT,GAAwB;AACtB,QAAI,CAACvB,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBC,EAAzB,IAA+B,CAACb,MAAM,CAACY,SAAP,CAAiBC,EAArD,EAAyD;AACzD,UAAM;AACJD,MAAAA,SADI;AAEJa,MAAAA,YAAY,EAAEC,GAFV;AAGJC,MAAAA;AAHI,QAIF3B,MAJJ;AAKA,UAAM;AACJsB,MAAAA,OADI;AAEJD,MAAAA;AAFI,QAGFT,SAHJ;AAIA,UAAMY,MAAM,GAAGxB,MAAM,CAACwB,MAAP,CAAcZ,SAA7B;AACA,QAAIgB,OAAO,GAAGnB,QAAd;AACA,QAAIoB,MAAM,GAAG,CAACnB,SAAS,GAAGD,QAAb,IAAyBkB,QAAtC;;AAEA,QAAID,GAAJ,EAAS;AACPG,MAAAA,MAAM,GAAG,CAACA,MAAV;;AAEA,UAAIA,MAAM,GAAG,CAAb,EAAgB;AACdD,QAAAA,OAAO,GAAGnB,QAAQ,GAAGoB,MAArB;AACAA,QAAAA,MAAM,GAAG,CAAT;AACD,OAHD,MAGO,IAAI,CAACA,MAAD,GAAUpB,QAAV,GAAqBC,SAAzB,EAAoC;AACzCkB,QAAAA,OAAO,GAAGlB,SAAS,GAAGmB,MAAtB;AACD;AACF,KATD,MASO,IAAIA,MAAM,GAAG,CAAb,EAAgB;AACrBD,MAAAA,OAAO,GAAGnB,QAAQ,GAAGoB,MAArB;AACAA,MAAAA,MAAM,GAAG,CAAT;AACD,KAHM,MAGA,IAAIA,MAAM,GAAGpB,QAAT,GAAoBC,SAAxB,EAAmC;AACxCkB,MAAAA,OAAO,GAAGlB,SAAS,GAAGmB,MAAtB;AACD;;AAED,QAAI7B,MAAM,CAAC8B,YAAP,EAAJ,EAA2B;AACzBR,MAAAA,OAAO,CAACS,SAAR,CAAmB,eAAcF,MAAO,WAAxC;AACAP,MAAAA,OAAO,CAAC,CAAD,CAAP,CAAWU,KAAX,CAAiBC,KAAjB,GAA0B,GAAEL,OAAQ,IAApC;AACD,KAHD,MAGO;AACLN,MAAAA,OAAO,CAACS,SAAR,CAAmB,oBAAmBF,MAAO,QAA7C;AACAP,MAAAA,OAAO,CAAC,CAAD,CAAP,CAAWU,KAAX,CAAiBE,MAAjB,GAA2B,GAAEN,OAAQ,IAArC;AACD;;AAED,QAAIJ,MAAM,CAACV,IAAX,EAAiB;AACfqB,MAAAA,YAAY,CAAC7B,OAAD,CAAZ;AACAe,MAAAA,GAAG,CAAC,CAAD,CAAH,CAAOW,KAAP,CAAaI,OAAb,GAAuB,CAAvB;AACA9B,MAAAA,OAAO,GAAG+B,UAAU,CAAC,MAAM;AACzBhB,QAAAA,GAAG,CAAC,CAAD,CAAH,CAAOW,KAAP,CAAaI,OAAb,GAAuB,CAAvB;AACAf,QAAAA,GAAG,CAACiB,UAAJ,CAAe,GAAf;AACD,OAHmB,EAGjB,IAHiB,CAApB;AAID;AACF;;AAED,WAASC,aAAT,CAAuBC,QAAvB,EAAiC;AAC/B,QAAI,CAACxC,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBC,EAAzB,IAA+B,CAACb,MAAM,CAACY,SAAP,CAAiBC,EAArD,EAAyD;AACzDb,IAAAA,MAAM,CAACY,SAAP,CAAiBU,OAAjB,CAAyBgB,UAAzB,CAAoCE,QAApC;AACD;;AAED,WAASC,UAAT,GAAsB;AACpB,QAAI,CAACzC,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBC,EAAzB,IAA+B,CAACb,MAAM,CAACY,SAAP,CAAiBC,EAArD,EAAyD;AACzD,UAAM;AACJD,MAAAA;AADI,QAEFZ,MAFJ;AAGA,UAAM;AACJsB,MAAAA,OADI;AAEJD,MAAAA;AAFI,QAGFT,SAHJ;AAIAU,IAAAA,OAAO,CAAC,CAAD,CAAP,CAAWU,KAAX,CAAiBC,KAAjB,GAAyB,EAAzB;AACAX,IAAAA,OAAO,CAAC,CAAD,CAAP,CAAWU,KAAX,CAAiBE,MAAjB,GAA0B,EAA1B;AACAxB,IAAAA,SAAS,GAAGV,MAAM,CAAC8B,YAAP,KAAwBT,GAAG,CAAC,CAAD,CAAH,CAAOqB,WAA/B,GAA6CrB,GAAG,CAAC,CAAD,CAAH,CAAOsB,YAAhE;AACAhC,IAAAA,OAAO,GAAGX,MAAM,CAAC4C,IAAP,IAAe5C,MAAM,CAAC6C,WAAP,GAAqB7C,MAAM,CAACwB,MAAP,CAAcsB,kBAAnC,IAAyD9C,MAAM,CAACwB,MAAP,CAAcuB,cAAd,GAA+B/C,MAAM,CAACgD,QAAP,CAAgB,CAAhB,CAA/B,GAAoD,CAA7G,CAAf,CAAV;;AAEA,QAAIhD,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBH,QAAxB,KAAqC,MAAzC,EAAiD;AAC/CA,MAAAA,QAAQ,GAAGC,SAAS,GAAGC,OAAvB;AACD,KAFD,MAEO;AACLF,MAAAA,QAAQ,GAAGwC,QAAQ,CAACjD,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBH,QAAzB,EAAmC,EAAnC,CAAnB;AACD;;AAED,QAAIT,MAAM,CAAC8B,YAAP,EAAJ,EAA2B;AACzBR,MAAAA,OAAO,CAAC,CAAD,CAAP,CAAWU,KAAX,CAAiBC,KAAjB,GAA0B,GAAExB,QAAS,IAArC;AACD,KAFD,MAEO;AACLa,MAAAA,OAAO,CAAC,CAAD,CAAP,CAAWU,KAAX,CAAiBE,MAAjB,GAA2B,GAAEzB,QAAS,IAAtC;AACD;;AAED,QAAIE,OAAO,IAAI,CAAf,EAAkB;AAChBU,MAAAA,GAAG,CAAC,CAAD,CAAH,CAAOW,KAAP,CAAakB,OAAb,GAAuB,MAAvB;AACD,KAFD,MAEO;AACL7B,MAAAA,GAAG,CAAC,CAAD,CAAH,CAAOW,KAAP,CAAakB,OAAb,GAAuB,EAAvB;AACD;;AAED,QAAIlD,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBE,IAA5B,EAAkC;AAChCO,MAAAA,GAAG,CAAC,CAAD,CAAH,CAAOW,KAAP,CAAaI,OAAb,GAAuB,CAAvB;AACD;;AAED,QAAIpC,MAAM,CAACwB,MAAP,CAAc2B,aAAd,IAA+BnD,MAAM,CAACoD,OAA1C,EAAmD;AACjDxC,MAAAA,SAAS,CAACS,GAAV,CAAcrB,MAAM,CAACqD,QAAP,GAAkB,UAAlB,GAA+B,aAA7C,EAA4DrD,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBK,SAApF;AACD;AACF;;AAED,WAASqC,kBAAT,CAA4BC,CAA5B,EAA+B;AAC7B,QAAIvD,MAAM,CAAC8B,YAAP,EAAJ,EAA2B;AACzB,aAAOyB,CAAC,CAACC,IAAF,KAAW,YAAX,IAA2BD,CAAC,CAACC,IAAF,KAAW,WAAtC,GAAoDD,CAAC,CAACE,aAAF,CAAgB,CAAhB,EAAmBC,OAAvE,GAAiFH,CAAC,CAACG,OAA1F;AACD;;AAED,WAAOH,CAAC,CAACC,IAAF,KAAW,YAAX,IAA2BD,CAAC,CAACC,IAAF,KAAW,WAAtC,GAAoDD,CAAC,CAACE,aAAF,CAAgB,CAAhB,EAAmBE,OAAvE,GAAiFJ,CAAC,CAACI,OAA1F;AACD;;AAED,WAASC,eAAT,CAAyBL,CAAzB,EAA4B;AAC1B,UAAM;AACJ3C,MAAAA,SADI;AAEJa,MAAAA,YAAY,EAAEC;AAFV,QAGF1B,MAHJ;AAIA,UAAM;AACJqB,MAAAA;AADI,QAEFT,SAFJ;AAGA,QAAIiD,aAAJ;AACAA,IAAAA,aAAa,GAAG,CAACP,kBAAkB,CAACC,CAAD,CAAlB,GAAwBlC,GAAG,CAACyC,MAAJ,GAAa9D,MAAM,CAAC8B,YAAP,KAAwB,MAAxB,GAAiC,KAA9C,CAAxB,IAAgFtB,YAAY,KAAK,IAAjB,GAAwBA,YAAxB,GAAuCC,QAAQ,GAAG,CAAlI,CAAD,KAA0IC,SAAS,GAAGD,QAAtJ,CAAhB;AACAoD,IAAAA,aAAa,GAAGE,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAASJ,aAAT,EAAwB,CAAxB,CAAT,EAAqC,CAArC,CAAhB;;AAEA,QAAInC,GAAJ,EAAS;AACPmC,MAAAA,aAAa,GAAG,IAAIA,aAApB;AACD;;AAED,UAAMK,QAAQ,GAAGlE,MAAM,CAACmE,YAAP,KAAwB,CAACnE,MAAM,CAACoE,YAAP,KAAwBpE,MAAM,CAACmE,YAAP,EAAzB,IAAkDN,aAA3F;AACA7D,IAAAA,MAAM,CAACqE,cAAP,CAAsBH,QAAtB;AACAlE,IAAAA,MAAM,CAACuB,YAAP,CAAoB2C,QAApB;AACAlE,IAAAA,MAAM,CAACsE,iBAAP;AACAtE,IAAAA,MAAM,CAACuE,mBAAP;AACD;;AAED,WAASC,WAAT,CAAqBjB,CAArB,EAAwB;AACtB,UAAM/B,MAAM,GAAGxB,MAAM,CAACwB,MAAP,CAAcZ,SAA7B;AACA,UAAM;AACJA,MAAAA,SADI;AAEJ6D,MAAAA;AAFI,QAGFzE,MAHJ;AAIA,UAAM;AACJqB,MAAAA,GADI;AAEJC,MAAAA;AAFI,QAGFV,SAHJ;AAIAP,IAAAA,SAAS,GAAG,IAAZ;AACAG,IAAAA,YAAY,GAAG+C,CAAC,CAACmB,MAAF,KAAapD,OAAO,CAAC,CAAD,CAApB,IAA2BiC,CAAC,CAACmB,MAAF,KAAapD,OAAxC,GAAkDgC,kBAAkB,CAACC,CAAD,CAAlB,GAAwBA,CAAC,CAACmB,MAAF,CAASC,qBAAT,GAAiC3E,MAAM,CAAC8B,YAAP,KAAwB,MAAxB,GAAiC,KAAlE,CAA1E,GAAqJ,IAApK;AACAyB,IAAAA,CAAC,CAACqB,cAAF;AACArB,IAAAA,CAAC,CAACsB,eAAF;AACAJ,IAAAA,UAAU,CAACnC,UAAX,CAAsB,GAAtB;AACAhB,IAAAA,OAAO,CAACgB,UAAR,CAAmB,GAAnB;AACAsB,IAAAA,eAAe,CAACL,CAAD,CAAf;AACApB,IAAAA,YAAY,CAAC5B,WAAD,CAAZ;AACAc,IAAAA,GAAG,CAACiB,UAAJ,CAAe,CAAf;;AAEA,QAAId,MAAM,CAACV,IAAX,EAAiB;AACfO,MAAAA,GAAG,CAACyD,GAAJ,CAAQ,SAAR,EAAmB,CAAnB;AACD;;AAED,QAAI9E,MAAM,CAACwB,MAAP,CAAcuD,OAAlB,EAA2B;AACzB/E,MAAAA,MAAM,CAACyE,UAAP,CAAkBK,GAAlB,CAAsB,kBAAtB,EAA0C,MAA1C;AACD;;AAED3E,IAAAA,IAAI,CAAC,oBAAD,EAAuBoD,CAAvB,CAAJ;AACD;;AAED,WAASyB,UAAT,CAAoBzB,CAApB,EAAuB;AACrB,UAAM;AACJ3C,MAAAA,SADI;AAEJ6D,MAAAA;AAFI,QAGFzE,MAHJ;AAIA,UAAM;AACJqB,MAAAA,GADI;AAEJC,MAAAA;AAFI,QAGFV,SAHJ;AAIA,QAAI,CAACP,SAAL,EAAgB;AAChB,QAAIkD,CAAC,CAACqB,cAAN,EAAsBrB,CAAC,CAACqB,cAAF,GAAtB,KAA8CrB,CAAC,CAAC0B,WAAF,GAAgB,KAAhB;AAC9CrB,IAAAA,eAAe,CAACL,CAAD,CAAf;AACAkB,IAAAA,UAAU,CAACnC,UAAX,CAAsB,CAAtB;AACAjB,IAAAA,GAAG,CAACiB,UAAJ,CAAe,CAAf;AACAhB,IAAAA,OAAO,CAACgB,UAAR,CAAmB,CAAnB;AACAnC,IAAAA,IAAI,CAAC,mBAAD,EAAsBoD,CAAtB,CAAJ;AACD;;AAED,WAAS2B,SAAT,CAAmB3B,CAAnB,EAAsB;AACpB,UAAM/B,MAAM,GAAGxB,MAAM,CAACwB,MAAP,CAAcZ,SAA7B;AACA,UAAM;AACJA,MAAAA,SADI;AAEJ6D,MAAAA;AAFI,QAGFzE,MAHJ;AAIA,UAAM;AACJqB,MAAAA;AADI,QAEFT,SAFJ;AAGA,QAAI,CAACP,SAAL,EAAgB;AAChBA,IAAAA,SAAS,GAAG,KAAZ;;AAEA,QAAIL,MAAM,CAACwB,MAAP,CAAcuD,OAAlB,EAA2B;AACzB/E,MAAAA,MAAM,CAACyE,UAAP,CAAkBK,GAAlB,CAAsB,kBAAtB,EAA0C,EAA1C;AACAL,MAAAA,UAAU,CAACnC,UAAX,CAAsB,EAAtB;AACD;;AAED,QAAId,MAAM,CAACV,IAAX,EAAiB;AACfqB,MAAAA,YAAY,CAAC5B,WAAD,CAAZ;AACAA,MAAAA,WAAW,GAAGX,QAAQ,CAAC,MAAM;AAC3ByB,QAAAA,GAAG,CAACyD,GAAJ,CAAQ,SAAR,EAAmB,CAAnB;AACAzD,QAAAA,GAAG,CAACiB,UAAJ,CAAe,GAAf;AACD,OAHqB,EAGnB,IAHmB,CAAtB;AAID;;AAEDnC,IAAAA,IAAI,CAAC,kBAAD,EAAqBoD,CAArB,CAAJ;;AAEA,QAAI/B,MAAM,CAACR,aAAX,EAA0B;AACxBhB,MAAAA,MAAM,CAACmF,cAAP;AACD;AACF;;AAED,WAASC,MAAT,CAAgBC,MAAhB,EAAwB;AACtB,UAAM;AACJzE,MAAAA,SADI;AAEJ0E,MAAAA,gBAFI;AAGJC,MAAAA,kBAHI;AAIJ/D,MAAAA,MAJI;AAKJgE,MAAAA;AALI,QAMFxF,MANJ;AAOA,UAAMqB,GAAG,GAAGT,SAAS,CAACS,GAAtB;AACA,QAAI,CAACA,GAAL,EAAU;AACV,UAAMqD,MAAM,GAAGrD,GAAG,CAAC,CAAD,CAAlB;AACA,UAAMoE,cAAc,GAAGD,OAAO,CAACE,eAAR,IAA2BlE,MAAM,CAACmE,gBAAlC,GAAqD;AAC1EC,MAAAA,OAAO,EAAE,KADiE;AAE1EC,MAAAA,OAAO,EAAE;AAFiE,KAArD,GAGnB,KAHJ;AAIA,UAAMH,eAAe,GAAGF,OAAO,CAACE,eAAR,IAA2BlE,MAAM,CAACmE,gBAAlC,GAAqD;AAC3EC,MAAAA,OAAO,EAAE,IADkE;AAE3EC,MAAAA,OAAO,EAAE;AAFkE,KAArD,GAGpB,KAHJ;AAIA,QAAI,CAACnB,MAAL,EAAa;AACb,UAAMoB,WAAW,GAAGT,MAAM,KAAK,IAAX,GAAkB,kBAAlB,GAAuC,qBAA3D;;AAEA,QAAI,CAACG,OAAO,CAACO,KAAb,EAAoB;AAClBrB,MAAAA,MAAM,CAACoB,WAAD,CAAN,CAAoBP,kBAAkB,CAACS,KAAvC,EAA8CxB,WAA9C,EAA2DiB,cAA3D;AACArF,MAAAA,QAAQ,CAAC0F,WAAD,CAAR,CAAsBP,kBAAkB,CAACU,IAAzC,EAA+CjB,UAA/C,EAA2DS,cAA3D;AACArF,MAAAA,QAAQ,CAAC0F,WAAD,CAAR,CAAsBP,kBAAkB,CAACW,GAAzC,EAA8ChB,SAA9C,EAAyDQ,eAAzD;AACD,KAJD,MAIO;AACLhB,MAAAA,MAAM,CAACoB,WAAD,CAAN,CAAoBR,gBAAgB,CAACU,KAArC,EAA4CxB,WAA5C,EAAyDiB,cAAzD;AACAf,MAAAA,MAAM,CAACoB,WAAD,CAAN,CAAoBR,gBAAgB,CAACW,IAArC,EAA2CjB,UAA3C,EAAuDS,cAAvD;AACAf,MAAAA,MAAM,CAACoB,WAAD,CAAN,CAAoBR,gBAAgB,CAACY,GAArC,EAA0ChB,SAA1C,EAAqDQ,eAArD;AACD;AACF;;AAED,WAASS,eAAT,GAA2B;AACzB,QAAI,CAACnG,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBC,EAAzB,IAA+B,CAACb,MAAM,CAACY,SAAP,CAAiBC,EAArD,EAAyD;AACzDuE,IAAAA,MAAM,CAAC,IAAD,CAAN;AACD;;AAED,WAASgB,gBAAT,GAA4B;AAC1B,QAAI,CAACpG,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBC,EAAzB,IAA+B,CAACb,MAAM,CAACY,SAAP,CAAiBC,EAArD,EAAyD;AACzDuE,IAAAA,MAAM,CAAC,KAAD,CAAN;AACD;;AAED,WAASiB,IAAT,GAAgB;AACd,UAAM;AACJzF,MAAAA,SADI;AAEJS,MAAAA,GAAG,EAAEiF;AAFD,QAGFtG,MAHJ;AAIAA,IAAAA,MAAM,CAACwB,MAAP,CAAcZ,SAAd,GAA0Bf,yBAAyB,CAACG,MAAD,EAASA,MAAM,CAACuG,cAAP,CAAsB3F,SAA/B,EAA0CZ,MAAM,CAACwB,MAAP,CAAcZ,SAAxD,EAAmE;AACpHC,MAAAA,EAAE,EAAE;AADgH,KAAnE,CAAnD;AAGA,UAAMW,MAAM,GAAGxB,MAAM,CAACwB,MAAP,CAAcZ,SAA7B;AACA,QAAI,CAACY,MAAM,CAACX,EAAZ,EAAgB;AAChB,QAAIQ,GAAG,GAAG1B,CAAC,CAAC6B,MAAM,CAACX,EAAR,CAAX;;AAEA,QAAIb,MAAM,CAACwB,MAAP,CAAcgF,iBAAd,IAAmC,OAAOhF,MAAM,CAACX,EAAd,KAAqB,QAAxD,IAAoEQ,GAAG,CAACoF,MAAJ,GAAa,CAAjF,IAAsFH,SAAS,CAACI,IAAV,CAAelF,MAAM,CAACX,EAAtB,EAA0B4F,MAA1B,KAAqC,CAA/H,EAAkI;AAChIpF,MAAAA,GAAG,GAAGiF,SAAS,CAACI,IAAV,CAAelF,MAAM,CAACX,EAAtB,CAAN;AACD;;AAED,QAAIS,OAAO,GAAGD,GAAG,CAACqF,IAAJ,CAAU,IAAG1G,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBM,SAAU,EAA/C,CAAd;;AAEA,QAAII,OAAO,CAACmF,MAAR,KAAmB,CAAvB,EAA0B;AACxBnF,MAAAA,OAAO,GAAG3B,CAAC,CAAE,eAAcK,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBM,SAAU,UAAlD,CAAX;AACAG,MAAAA,GAAG,CAACsF,MAAJ,CAAWrF,OAAX;AACD;;AAEDsF,IAAAA,MAAM,CAACC,MAAP,CAAcjG,SAAd,EAAyB;AACvBS,MAAAA,GADuB;AAEvBR,MAAAA,EAAE,EAAEQ,GAAG,CAAC,CAAD,CAFgB;AAGvBC,MAAAA,OAHuB;AAIvBF,MAAAA,MAAM,EAAEE,OAAO,CAAC,CAAD;AAJQ,KAAzB;;AAOA,QAAIE,MAAM,CAACT,SAAX,EAAsB;AACpBoF,MAAAA,eAAe;AAChB;;AAED,QAAI9E,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACrB,MAAM,CAACoD,OAAP,GAAiB,aAAjB,GAAiC,UAAlC,CAAH,CAAiDpD,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBK,SAAzE;AACD;AACF;;AAED,WAAS6F,OAAT,GAAmB;AACjBV,IAAAA,gBAAgB;AACjB;;AAEDlG,EAAAA,EAAE,CAAC,MAAD,EAAS,MAAM;AACf,QAAIF,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBwC,OAAxB,KAAoC,KAAxC,EAA+C;AAC7C;AACA2D,MAAAA,OAAO;AACR,KAHD,MAGO;AACLV,MAAAA,IAAI;AACJ5D,MAAAA,UAAU;AACVlB,MAAAA,YAAY;AACb;AACF,GATC,CAAF;AAUArB,EAAAA,EAAE,CAAC,0CAAD,EAA6C,MAAM;AACnDuC,IAAAA,UAAU;AACX,GAFC,CAAF;AAGAvC,EAAAA,EAAE,CAAC,cAAD,EAAiB,MAAM;AACvBqB,IAAAA,YAAY;AACb,GAFC,CAAF;AAGArB,EAAAA,EAAE,CAAC,eAAD,EAAkB,CAAC8G,EAAD,EAAKxE,QAAL,KAAkB;AACpCD,IAAAA,aAAa,CAACC,QAAD,CAAb;AACD,GAFC,CAAF;AAGAtC,EAAAA,EAAE,CAAC,gBAAD,EAAmB,MAAM;AACzB,UAAM;AACJmB,MAAAA;AADI,QAEFrB,MAAM,CAACY,SAFX;;AAIA,QAAIS,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACrB,MAAM,CAACoD,OAAP,GAAiB,aAAjB,GAAiC,UAAlC,CAAH,CAAiDpD,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBK,SAAzE;AACD;AACF,GARC,CAAF;AASAf,EAAAA,EAAE,CAAC,SAAD,EAAY,MAAM;AAClB4G,IAAAA,OAAO;AACR,GAFC,CAAF;;AAIA,QAAMG,MAAM,GAAG,MAAM;AACnBjH,IAAAA,MAAM,CAACqB,GAAP,CAAW6F,WAAX,CAAuBlH,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBO,sBAA/C;;AAEA,QAAInB,MAAM,CAACY,SAAP,CAAiBS,GAArB,EAA0B;AACxBrB,MAAAA,MAAM,CAACY,SAAP,CAAiBS,GAAjB,CAAqB6F,WAArB,CAAiClH,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBO,sBAAzD;AACD;;AAEDkF,IAAAA,IAAI;AACJ5D,IAAAA,UAAU;AACVlB,IAAAA,YAAY;AACb,GAVD;;AAYA,QAAMwF,OAAO,GAAG,MAAM;AACpB/G,IAAAA,MAAM,CAACqB,GAAP,CAAW8F,QAAX,CAAoBnH,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBO,sBAA5C;;AAEA,QAAInB,MAAM,CAACY,SAAP,CAAiBS,GAArB,EAA0B;AACxBrB,MAAAA,MAAM,CAACY,SAAP,CAAiBS,GAAjB,CAAqB8F,QAArB,CAA8BnH,MAAM,CAACwB,MAAP,CAAcZ,SAAd,CAAwBO,sBAAtD;AACD;;AAED2F,IAAAA,OAAO;AACR,GARD;;AAUAF,EAAAA,MAAM,CAACC,MAAP,CAAc7G,MAAM,CAACY,SAArB,EAAgC;AAC9BqG,IAAAA,MAD8B;AAE9BF,IAAAA,OAF8B;AAG9BtE,IAAAA,UAH8B;AAI9BlB,IAAAA,YAJ8B;AAK9B8E,IAAAA,IAL8B;AAM9BS,IAAAA;AAN8B,GAAhC;AAQD","sourcesContent":["import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled'\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}"]},"metadata":{},"sourceType":"module"}