{"ast":null,"code":"import _asyncToGenerator from\"D:/Web Development/woodsy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Web Development/woodsy/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Web Development\\\\woodsy\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import ReactPayPal from'../PaypalBtn';import'./userDetails.css';import{PayPalButton}from'react-paypal-button-v2';import{useEffect,useState,useContext}from'react';import CartContext from'../../context/cart-context';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserDetails=function UserDetails(){// add btn for editing and toggleform\nvar cartCtx=useContext(CartContext);var userShippingDetails=JSON.parse(localStorage.getItem(\"shippingDetails\"));console.log(userShippingDetails);var totalPlusTax=cartCtx.totalAmount+cartCtx.totalAmount*8.8/100;var priceRounded=Math.round((totalPlusTax+Number.EPSILON)*100)/100;var shippingPrice=userShippingDetails.shipping==10?10:userShippingDetails.shipping==20?20:0;var totalRoundedPrice=priceRounded+ +shippingPrice;var orderSummery=JSON.parse(localStorage.getItem(\"cartState\"));var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sdkReady=_useState2[0],setSdkReady=_useState2[1];useEffect(function(){var addPayPalScript=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var script;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:script=document.createElement('script');script.type=\"text/javascript\";script.src=\"https://www.paypal.com/sdk/js?client-id=AQAFDBnSRJ4OB9fcHbHkBX3DfOTLkLbYC2zmaH76CUkRh8Ag4J5qVCJGlVVwR6Nc-YqTPH2xsoCl1yr0\";script.async=true;script.onload=function(){setSdkReady(true);};document.body.appendChild(script);case 6:case\"end\":return _context.stop();}}},_callee);}));return function addPayPalScript(){return _ref.apply(this,arguments);};}();if(!window.paypal){addPayPalScript();}else{setSdkReady(true);}},[]);var successPaymentHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var URL,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:URL=\"\";_context2.next=3;return axios.post(URL,{order:orderSummery,shipping:userShippingDetails});case 3:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function successPaymentHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-details-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"contact-wrap\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"form-title\",children:\"Contact Details\"}),/*#__PURE__*/_jsx(\"p\",{className:\"user-phone\",children:userShippingDetails.phone}),/*#__PURE__*/_jsx(\"p\",{className:\"user-email\",children:userShippingDetails.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-wrap\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"form-title\",children:\"Shipping Details\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"user-name\",children:[userShippingDetails.firstname,\" \",userShippingDetails.lastname]}),/*#__PURE__*/_jsx(\"p\",{className:\"address1\",children:userShippingDetails.add1}),/*#__PURE__*/_jsx(\"p\",{className:\"address2\",children:userShippingDetails.add2}),/*#__PURE__*/_jsxs(\"p\",{className:\"city-state-zip\",children:[userShippingDetails.city,\", \",userShippingDetails.state,\", \",userShippingDetails.zip]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ship-type-wrap\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"form-title\",children:\"Shipping Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"user-ship\",children:userShippingDetails.shipping==0?\"Normal Shipping (4-5 days)\":userShippingDetails.shipping==10?\"Fast Shipping (2-3 days)\":\"Super Fast Shipping (1 day)\"})]})]}),/*#__PURE__*/_jsx(PayPalButton,{amount:totalRoundedPrice,onSuccess:successPaymentHandler})]});};export default UserDetails;","map":{"version":3,"sources":["D:/Web Development/woodsy/frontend/src/components/userDetails/UserDetails.jsx"],"names":["React","ReactPayPal","PayPalButton","useEffect","useState","useContext","CartContext","axios","UserDetails","cartCtx","userShippingDetails","JSON","parse","localStorage","getItem","console","log","totalPlusTax","totalAmount","priceRounded","Math","round","Number","EPSILON","shippingPrice","shipping","totalRoundedPrice","orderSummery","sdkReady","setSdkReady","addPayPalScript","script","document","createElement","type","src","async","onload","body","appendChild","window","paypal","successPaymentHandler","URL","post","order","data","phone","email","firstname","lastname","add1","add2","city","state","zip"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ReactPayPal from '../PaypalBtn';\r\nimport './userDetails.css'\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { useEffect, useState, useContext } from 'react';\r\nimport CartContext from '../../context/cart-context';\r\nimport axios from 'axios';\r\n\r\nconst UserDetails = () => {\r\n  // add btn for editing and toggleform\r\n  const cartCtx = useContext(CartContext);\r\n  const userShippingDetails = JSON.parse(localStorage.getItem(\"shippingDetails\"));\r\n  console.log(userShippingDetails);\r\n  const totalPlusTax = cartCtx.totalAmount+(cartCtx.totalAmount*8.8/100);\r\n  const priceRounded = Math.round((totalPlusTax + Number.EPSILON) * 100) / 100;\r\n  const shippingPrice = userShippingDetails.shipping==10?10:userShippingDetails.shipping==20?20:0;\r\n  const totalRoundedPrice = priceRounded + (+shippingPrice);\r\n  const orderSummery = JSON.parse(localStorage.getItem(\"cartState\"));\r\n\r\n  const [ sdkReady, setSdkReady ] = useState(false);\r\n  useEffect(() => {\r\n\r\n    const addPayPalScript = async () => {\r\n      const script = document.createElement('script');\r\n      script.type = \"text/javascript\";\r\n      script.src = `https://www.paypal.com/sdk/js?client-id=AQAFDBnSRJ4OB9fcHbHkBX3DfOTLkLbYC2zmaH76CUkRh8Ag4J5qVCJGlVVwR6Nc-YqTPH2xsoCl1yr0`;\r\n      script.async = true;\r\n      script.onload = () => {\r\n        setSdkReady(true);\r\n      };\r\n      document.body.appendChild(script);\r\n    };\r\n\r\n    if(!window.paypal) {\r\n      addPayPalScript();\r\n    } else {\r\n      setSdkReady(true);\r\n    }\r\n  }, []);\r\n\r\n  const successPaymentHandler = async () => {\r\n    const URL = \"\";\r\n    const { data } = await axios.post(URL, {\r\n      order: orderSummery,\r\n      shipping: userShippingDetails\r\n    } );  \r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='user-details-container'>\r\n        <div className=\"contact-wrap\">\r\n          <h4 className=\"form-title\">Contact Details</h4>\r\n          <p className=\"user-phone\">{userShippingDetails.phone}</p>\r\n          <p className=\"user-email\">{userShippingDetails.email}</p>\r\n        </div>\r\n        <div className=\"add-wrap\">\r\n          <h4 className=\"form-title\">Shipping Details</h4>\r\n          <p className=\"user-name\">{userShippingDetails.firstname} {userShippingDetails.lastname}</p>\r\n          <p className=\"address1\">{userShippingDetails.add1}</p>\r\n          <p className=\"address2\">{userShippingDetails.add2}</p>\r\n          <p className=\"city-state-zip\">{userShippingDetails.city}, {userShippingDetails.state}, {userShippingDetails.zip}</p>\r\n        </div>\r\n        <div className=\"ship-type-wrap\">\r\n          <h4 className=\"form-title\">Shipping Type</h4>\r\n          <p className=\"user-ship\">{userShippingDetails.shipping==0?\"Normal Shipping (4-5 days)\":userShippingDetails.shipping==10?\"Fast Shipping (2-3 days)\":\"Super Fast Shipping (1 day)\"}</p>\r\n        </div>\r\n      </div>\r\n      <PayPalButton amount={totalRoundedPrice} onSuccess={successPaymentHandler}></PayPalButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserDetails"]},"metadata":{},"sourceType":"module"}